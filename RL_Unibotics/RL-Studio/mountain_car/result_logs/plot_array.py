
import datetime
import time

import gym
from envs.gazebo_envs import *

import numpy as np
from functools import reduce

import settings as settings
# import liveplot
import multiprocessing

from gym.envs.registration import register
from qlearn import QLearn
import matplotlib.pyplot as plt
import pandas as pd
import numpy
import utils

if __name__ == '__main__':

    steps= [61, 61, 32, 53, 61, 61, 61, 12, 46, 61, 61, 30, 48, 12, 61, 56, 30, 61, 61, 61, 52, 61, 12, 61, 61, 61, 41, 42, 35, 34, 58, 61, 17, 42, 61, 61, 61, 57, 23, 61, 61, 61, 27, 61, 61, 61, 53, 26, 14, 13, 18, 37, 61, 55, 21, 61, 61, 61, 61, 61, 34, 56, 61, 61, 24, 61, 61, 39, 59, 61, 61, 61, 28, 61, 45, 61, 45, 38, 16, 32, 52, 61, 61, 61, 61, 61, 25, 61, 17, 61, 61, 61, 44, 61, 61, 41, 23, 61, 27, 37, 61, 61, 51, 61, 47, 53, 25, 30, 61, 61, 61, 61, 48, 61, 61, 61, 40, 61, 39, 56, 33, 61, 61, 14, 61, 13, 61, 27, 61, 49, 61, 36, 55, 30, 61, 61, 61, 61, 40, 61, 61, 31, 61, 61, 61, 61, 12, 47, 49, 61, 61, 61, 61, 61, 61, 34, 61, 61, 33, 61, 28, 39, 27, 61, 61, 61, 61, 53, 55, 61, 39, 38, 24, 61, 61, 61, 43, 61, 17, 61, 61, 61, 61, 38, 61, 35, 61, 61, 61, 61, 61, 38, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 49, 20, 61, 34, 26, 61, 61, 41, 28, 61, 61, 61, 61, 34, 61, 52, 17, 23, 61, 61, 61, 61, 16, 58, 61, 61, 61, 61, 58, 61, 61, 58, 56, 61, 61, 61, 15, 61, 38, 61, 16, 61, 59, 61, 61, 40, 61, 61, 61, 61, 26, 61, 61, 61, 38, 61, 19, 26, 61, 61, 41, 61, 61, 24, 61, 61, 61, 56, 41, 61, 61, 13, 61, 61, 61, 61, 28, 61, 25, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 44, 15, 61, 36, 61, 43, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 61, 51, 61, 61, 61, 61, 40, 61, 61, 61, 61, 61, 53, 23, 21, 26, 32, 61, 24, 55, 34, 61, 61, 61, 19, 61, 34, 61, 53, 61, 46, 17, 56, 39, 61, 61, 61, 32, 61, 61, 61, 13, 61, 61, 61, 61, 61, 48, 61, 57, 61, 61, 61, 35, 46, 61, 21, 26, 18, 31, 61, 17, 61, 61, 61, 61, 35, 20, 37, 28, 61, 37, 31, 16, 61, 50, 61, 31, 18, 61, 61, 32, 61, 38, 51, 61, 61, 61, 61, 29, 38, 61, 40, 24, 61, 17, 61, 61, 35, 61, 31, 61, 61, 37, 61, 21, 61, 61, 31, 31, 52, 22, 33, 61, 33, 42, 61, 61, 61, 61, 61, 61, 61, 24, 28, 52, 61, 14, 61, 27, 61, 58, 36, 61, 41, 61, 11, 61, 35, 61, 36, 61, 61, 61, 61, 23, 24, 61, 61, 61, 61, 61, 50, 36, 58, 61, 19, 61, 61, 34, 61, 61, 61, 61, 49, 28, 61, 61, 61, 61, 61, 61, 43, 44, 24, 22, 61, 34, 61, 61, 61, 23, 61, 17, 61, 26, 50, 59, 20, 61, 61, 41, 61, 61, 61, 11, 61, 38, 39, 61, 61, 57, 61, 61, 61, 61, 61, 61, 61, 17, 61, 61, 61, 61, 61, 61, 61, 24, 61, 61, 18, 19, 46, 45, 18, 61, 61, 31, 61, 25, 61, 61, 54, 61, 47, 28, 61, 61, 37, 33, 21, 31, 61, 54, 37, 61, 61, 61, 61, 25, 61, 61, 61, 61, 61, 61, 61, 61, 61, 18, 61, 61, 61, 46, 61, 42, 61, 61, 61, 34, 17, 61, 19, 61, 43, 61, 13, 47, 25, 61, 37, 61, 49, 36, 61, 59, 23, 32, 61, 61, 30, 53, 35, 61, 61, 61, 61, 53, 36, 61, 32, 61, 24, 61, 61, 46, 61, 40, 33, 61, 61, 37, 61, 25, 61, 61, 61, 61, 61, 21, 61, 61, 18, 61, 56, 61, 36, 38, 61, 61, 42, 61, 61, 56, 26, 61, 61, 48, 61, 54, 61, 61, 46, 24, 61, 61, 61, 24, 45, 41, 26, 61, 61, 53, 53, 61, 61, 14, 23, 61, 48, 21, 61, 61, 13, 61, 18, 28, 25, 61, 40, 60, 56, 20, 44, 41, 16, 41, 61, 29, 61, 61, 61, 40, 61, 19, 36, 26, 61, 61, 49, 18, 31, 61, 31, 61, 14, 53, 39, 58, 35, 26, 49, 61, 25, 61, 61, 61, 61, 61, 46, 47, 61, 55, 61, 26, 36, 34, 61, 41, 19, 61, 46, 61, 20, 61, 20, 60, 61, 61, 18, 47, 61, 61, 61, 61, 61, 18, 39, 32, 47, 61, 61, 48, 61, 61, 60, 45, 61, 31, 47, 30, 27, 43, 51, 47, 36, 34, 61, 27, 61, 61, 17, 61, 61, 13, 58, 13, 61, 33, 61, 61, 11, 61, 61, 52, 61, 25, 61, 52, 61, 27]

    steps_sublists=numpy.array_split(steps, len(steps)/10)
    steps_averages=[]
    for sublists in steps_sublists:
        steps_averages.append(np.average(sublists))

    figure, axes=utils.get_stats_figure(steps_averages)

    axes.cla()
    utils.update_line(axes, steps_averages)

    time.sleep(10)
